<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Zazu</title>
    <script>
      require('@babel/register')({
        ignore: [/\/(node_modules)\//, /newrelic\.js/],
        presets: [
          [
            '@babel/preset-env',
            {
              targets: {
                electron: '5',
              },
            },
          ],
          '@babel/preset-react',
        ],
        plugins: [
          'babel-plugin-macros',
          '@babel/plugin-syntax-dynamic-import',
          'dynamic-import-node-babel-7',
          '@babel/plugin-proposal-class-properties',
          '@babel/plugin-transform-react-constant-elements',
          '@babel/plugin-transform-react-inline-elements',
          'babel-plugin-closure-elimination',
        ],
      })

      const track = require('./lib/track')
      const app = require('electron').remote.app
      const env = require('./lib/env')

      track.initialize('search', {
        zazuVersion: app.getVersion(),
        zazuEnvironment: env.name,
      })
    </script>
    <link href="assets/stylesheets/font-awesome.min.css" rel="stylesheet">
  </head>
  <body>
    <section id="zazu"></section>
    <script>
      const ReactDOM = require('react-dom')
      const React = require('react')

      const ConfigWrapper = require('./containers/configWrapper')
      const PluginWrapper = require('./containers/pluginWrapper')

      ReactDOM.render(
        React.createElement(
          ConfigWrapper,
          {},
          React.createElement(PluginWrapper)
        ),
        document.getElementById('zazu')
      )

      // Catch `esc` or `enter` to avoid alert beep.
      document.body.onkeydown = (e) => {
        return e.key !== 'Enter' && e.key !== 'Escape'
      }
    </script>
  </body>
</html>
